# 项目说明

小毛球.mqb：程序入口文件，线上打不开，请浏览 “小毛球（试看用）.txt”

lib：命令库文件存放位置，项目功能的主要实现均保存于此

icon：项目打包时所用到的图片材料

data：存放项目运行所须的数据信息

# 小毛球——森之国度生活助手 详细说明

【一、免责声明】

1、该脚本仅为作者本人学习，测试使用

2、凡以任何方式使用该脚本而产生的一切账号问题，作者概不负责

3、凡以任何方式使用该脚本者，均被视为自愿接受该声明


【二、使用说明】

方法一：“按键精灵手机助手”本地调试

(1)、电脑上安装“按键精灵手机助手”

(2)、手机或模拟器上安装“按键精灵安卓版”

(3)、打开“按键精灵手机助手”并导入脚本“小毛球.mqb”，同时将“lib”下的命令库文件复制到“按键精灵手机助手”安装目录下的“CommandLib”文件夹中

(4)、将“按键精灵手机助手”连接上需调试的手机或模拟器，点击调试即可

(5)、如果需要修改配置，可在连接上手机或模拟器的情况下，在“按键精灵手机助手” - “界面”中点击“竖屏预览”或“横屏预览”，然后在手机或模拟器上选择并保存配置即可

方法二：打包成APP后在手机或模拟器上直接安装运行

(1)、电脑上安装“按键精灵手机助手”

(2)、打开“按键精灵手机助手”并导入脚本“小毛球.mqb”，同时将“lib”下的命令库文件复制到“按键精灵手机助手”安装目录下的“CommandLib”文件夹中

(3)、点击“发布”旁的下拉列表，点击“制作按键小精灵”，执行打包即可。其他打包方式多种多样，自行探索

(4)、将打包出来的APP导入手机或模拟器，正常安装使用即可


【三、模拟器设置】

1、推荐使用“MuMu模拟器”，以下设置均以该模拟器为准，其他模拟器自行摸索

2、分辨率选择“1600 * 900”

3、开启手机ROOT权限


【四、游戏设置】

1、关闭“点击地面移动”

2、关闭“自动锁定屏幕”

3、关闭“开关天气效果”

4、同屏人数设置为“1人”

5、家园耕地布置参考下图1，其中第一块基准耕地坐标：“91,69”（重要，请严格执行）

6、家园作物，一键种植数量调至60，参考下图2、3

7、创建队伍，保持1人即可

![图1](https://github.com/Jayvin-Leung/xiaomaoqiu/assets/118683529/af080c06-5ff2-4990-994e-677ca1639f86)
![图2](https://github.com/Jayvin-Leung/xiaomaoqiu/assets/118683529/307bab09-7bef-4914-ab88-059a4af91401)
![图3](https://github.com/Jayvin-Leung/xiaomaoqiu/assets/118683529/1706aebb-828a-4df4-bd8f-7a1a65364f1a)


【五、脚本设置】

方法一：对应上述选择“按键精灵手机助手”本地调试的情况

(1)、在“按键精灵手机助手”中点击“界面” - “竖屏预览”或“横屏预览”，然后在手机或模拟器上根据提示完成并保存配置

(2)、在“按键精灵手机助手”中点击调试，然后在手机或模拟器上弹出的悬浮窗中选择需要的操作，点击继续即可开始脚本

方法二：对应上述选择打包成APP后在手机或模拟器上直接安装运行的情况

(1)、打开APP，根据提示完成配置

(2)、点击“启动浮窗”，如果第一次启动，需根据提示进入应用设置，打开“允许显示在其他应用的上层”，即“允许开启悬浮窗”

(3)、点击悬浮的“蚂蚁图标”，点击开启，然后选择需要的操作后点击继续即可开始脚本


【六、高级进阶用法】

1、目前该脚本仅支持：

a、采集“Ⅴ级”及以下材料

b、“18级”及以下工匠手艺

c、“13级”及以下炼金师手艺

d、“13级”及以下料理师手艺

2、如需获取更高级支持，请等待下一版本更新，具体时间不确定

3、故建议自行探索如何让脚本支持更高级别材料的采集和手艺制作，以下为操作流程：

(1)、更新“数据库”信息（“com.jl.xiaomaoqiu” - “data” - “db” 下存放着数据信息）

a、打开“db”，获取该目录下的四个Excel文件

b、编辑对应的Excel文件，将编辑好的Excel文件转换为json文件（提供一个在线转换工具：https://wejson.cn/excel2json/）

    Excel文件说明：
    - 材料.xlsx
        - id      id，往下递增即可
        - name    材料名称
        - type    材料类型：1.矿 | 2.木 | 3.果 | 4.鱼 | 5.其他矿
        - Level   材料等级
        - row     第几行
        - low     第几列
        - pic     将材料名称替换即可
        - state1  同上
        - state2  同上
        - state3  同上
        - max     材料库存上限
        - isFull  默认填0即可
        - isSkip  默认填0即可
    - 料理配方.xlsx
        - id            id，往下递增即可
        - name          配方名称
        - type          配方类型，如料理师的“回复料理”为1，“属性料理”为2，以此类推
        - level         配方等级
        - material_num  该配方所需材料种数，1-4
        - type1_num     所需材料中包含“普通采集类型材料”的种数
        - type2_num     所需材料中包含“家园作物材料”的种数
        - type3_num     所需材料中包含“幸运产出材料”的种数
        - type4_num     所需材料中包含“精华材料”的种数
        - type9_num     所需材料中包含“其他手艺材料”的种数
        - material_1    所需材料中第一种材料信息
            - type      材料类型：1.普通采集类型材料 | 2.家园作物材料 | 3.幸运产出材料 | 4.精华材料 | 9.其他手艺材料
            - max       材料库存上限：0代表无库存上限
            - name      材料名称
            - crop      家园作物列表中的位置，从1开始，例如：1.稻子，2.玉米......以此类推，点击耕地可查看
            - mature    对应家园作物的成熟时间，单位为分钟，例如：稻子为0.45分钟，玉米为2分钟
        - material_2    同material_1
        - material_3    同material_1
        - material_4    同material_1
    - 工匠配方.xlsx
        - 同料理配方.xlsx
    - 炼金配方.xlsx
        - 同料理配方.xlsx

c、将转换出来的新json文件覆盖“db”目录下对应名称的旧json文件即可

(2)、添加匹配图片（“com.jl.xiaomaoqiu” - “data” - “pic”下存放着找图时需要用来作匹配的图片）

a、根据“pic”目录下原有的图片，按照其方式进行图片截取和图片命名

    - 打开库存，截取需新加入的材料图标的有效部分，并将无效的部分涂黑（可以参照原有的其他材料图片的样式）
        - 注意四个角无论是否为有效区域都要涂黑
        - 注意截取的图片的旋转角度要与原有的其他材料图片的角度一样
    - 打开手艺，点击需新加入的配方，截取右边页面的配方名称，并命名为“配方_xxx.png”（可以参照原有的其他配方图片的样式）
        - 注意截取时尽可能不留其他多余区域
        - 注意截取的图片的旋转角度要与原有的其他配方图片的角度一样
        - 由于料理师制作手艺时无法正确跳转到指定料理配方，所以添加新料理时除了需要截取配方右边的名称外，还要将需添加的新料理在左边列表中的图片截取下来，命名为“xxx.png”

b、将制作好的新图片放入“pic”目录下即可
